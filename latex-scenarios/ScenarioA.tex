\documentclass{article}\usepackage{tikz}\usetikzlibrary{shapes.misc}\usetikzlibrary{arrows.meta}\usepackage{nopageno}
\newcommand\unit{0.2675}
\newcommand\step{\unit*6}
\newcommand\yMax{\step*14}
\newcommand\xMax{\step*14}
\newcommand\xAlice{\xBuildingA-\step*3}
\newcommand\xBob{\xBuildingA-\step*2}
\newcommand\xEve{\xBuildingA-\step}
\newcommand\flowSpacing{\step*4}
\newcommand\labelSpacing{\step*0.4}
\newcommand\yBuildingA{\yMax-\unit}
\newcommand\xDomain{\xMax-\step/2}
\newcommand\xBuildingA{\xDomain-\step/2}
\begin{document}
    \hspace*{-50mm} \vspace*{-100mm}
    \tikzset{cross/.style={cross out,draw=black},cross/.default={1ex}}
    \begin{tikzpicture}[>=latex]
        \draw(\xAlice,\yMax)node[circle,fill,inner sep=0.5ex,label=above:$Alice(3)$]{};
        \draw(\xBob,\yMax)node[circle,fill,inner sep=0.5ex,label=above:$Bob(1)$]{};
        \draw(\xEve,\yMax)node[circle,fill,inner sep=0.5ex,label=above:$Eve(3)$]{};
        \draw[dotted](\xAlice,\yMax-\step*0)--(\xAlice,\yMax-\step*1)node[circle,fill,inner sep=0.5ex]{};        
        \draw[dotted](\xBob,\yMax-\step*0)--(\xBob,\yMax-\step*2)node[circle,fill,inner sep=0.5ex]{};
        \draw[dotted](\xEve,\yMax)--(\xEve,\yMax-\step*3)node[circle,fill,inner sep=0.5ex]{};
        \draw(\xAlice,\yMax-\step)--(\xAlice,\yMax-\step*4)node[circle,fill,inner sep=0.5ex]{};
        \draw(\xEve,\yMax-\step*3)--(\xEve,\yMax-\step*4);
        \draw[dotted,-{Latex[angle=45:2ex]}](\xAlice,\yMax-\step*4)--(\xEve,\yMax-\step*4);
        \draw(\xAlice-\labelSpacing,\yMax-\step*4)node[label=above:$Msg(2)$]{};
        \draw[dotted](\xBob,\yMax-\step*2)--(\xBob,\yMax-\step*5);
        \draw[dotted](\xBob,\yMax-\step*5)--(\xMax,\yMax-\step*5);
        \draw[dashed](\xBuildingA,\yMax-\step*0)--(\xBuildingA,\yMax-\step*6);
        \draw(\xAlice,\yMax-\step*4)--(\xAlice,\yMax-\step*6)node[circle,fill,inner sep=0.5ex]{};
        \draw[dotted,-{Latex[angle=45:2ex]}](\xAlice,\yMax-\step*6)--(\xBuildingA,\yMax-\step*6);
        \draw(\xAlice-\labelSpacing,\yMax-\step*6)node[label=above:$Lock$]{};
        \draw(\xEve,\yMax-\step*4)--(\xEve,\yMax-\step*7)node[circle,fill,inner sep=0.5ex]{};
        \draw(\xAlice,\yMax-\step*6)--(\xAlice,\yMax-\step*7);
        \draw[-{Latex[angle=45:2ex]}](\xEve,\yMax-\step*7)--(\xAlice,\yMax-\step*7);
        \draw(\xEve-\labelSpacing,\yMax-\step*7)node[label=above:$Msg(2)$]{};
        \draw(\xBuildingA,\yMax-\step*6)--(\xBuildingA,\yMax-\step*8);
        \draw(\xEve,\yMax-\step*7)--(\xEve,\yMax-\step*8)node[circle,fill,inner sep=0.5ex]{};
        \draw[dotted,-{Latex[angle=45:2ex]}](\xEve,\yMax-\step*8)--(\xBuildingA,\yMax-\step*8);
        \draw(\xEve-\labelSpacing,\yMax-\step*8)node[label=above:$Unlock$]{};
        \draw(\xMax,\yMax-\step*5)node[circle,fill,inner sep=0.5ex]{};
        \draw[dotted](\xMax,\yMax-\step*9)node[circle,fill,inner sep=0.5ex]{}--(\xBob,\yMax-\step*9)node[circle,fill,inner sep=0.5ex]{};
        \draw[dotted](\xAlice,\yMax-\step*7)--(\xAlice,\yMax-\step*10);
        \draw[dotted](\xAlice,\yMax-\step*10)--(\xMax,\yMax-\step*10);
        \draw[dotted](\xEve,\yMax-\step*8)--(\xEve,\yMax-\step*11);
        \draw[dotted](\xEve,\yMax-\step*11)--(\xMax,\yMax-\step*11);
        \draw[dotted](\xBob,\yMax-\step*9)--(\xBob,\yMax-\step*12);
        \draw[dotted](\xBob,\yMax-\step*12)--(\xMax,\yMax-\step*12);
        \draw(\xMax,\yMax-\step*10)node[cross]{}; 
        \draw(\xMax,\yMax-\step*11)node[cross]{}; 
        \draw(\xMax,\yMax-\step*12)node[cross]{}; 
        \draw(\xBuildingA,\yMax-\step*13)node[rectangle,fill,inner sep=0.5ex]{};
        \draw[very thick] (\xDomain-\flowSpacing-\unit*2,\yMax-\step*13+\unit) rectangle (\xDomain,\yBuildingA);
        \draw[dashed](\xBuildingA,\yMax-\step*8)--(\xBuildingA,\yMax-\step*13);
        \draw(\xBuildingA,\yMax)node[rectangle,fill,inner sep=0.5ex,label=right:$Lock$]{};
    \end{tikzpicture} 
\end{document} 